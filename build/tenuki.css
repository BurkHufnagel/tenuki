/*!
 * tenuki v0.1.0 (https://github.com/aprescott/tenuki.js)
 * Copyright Â© 2016 Adam Prescott.
 * Licensed under the MIT license.
 */
.tenuki-board {
  position: relative;
  -webkit-user-select: none;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.tenuki-board .tenuki-inner-container {
  background: rgb(226, 188, 106);
  overflow: hidden;
}

.tenuki-board .tenuki-zoom-container {
  transition: transform 0.2s ease-in-out;
  /*
   * address an issue somewhat related to the shrink-to-fit problem on iOS 9: https://forums.developer.apple.com/thread/13510
   * by setting this initial scale, any subsequent shrinking will not leave whitespace on the right of the board, which leads
   * to a horizontal scrollbar
   */
  transform: scale(1);
}

.tenuki-board.tenuki-scaled .cancel-zoom.visible {
  background: #B95858;
  height: 70px;
  width: 20px;
  position: absolute;
  transform: rotateZ(45deg);
  bottom: 62px;
  left: 89px;
  z-index: 2;
}

.tenuki-board.tenuki-scaled .cancel-zoom.visible:after {
  background: #B95858;
  content: "";
  height: 20px;
  left: -25px;
  position: absolute;
  top: 25px;
  width: 70px;
}

.tenuki-board.tenuki-scaled .cancel-zoom.visible + .cancel-zoom-backdrop {
  width: 100px;
  height: 100px;
  position: absolute;
  z-index: 1;
  bottom: 48px;
  left: 49px;
  background: rgba(226, 188, 106, 0.81);
  border-radius: 50%;
}

.tenuki-board[data-include-coordinates=true] .cancel-zoom.visible,
.tenuki-board[data-include-coordinates=true] .cancel-zoom.visible + .cancel-zoom-backdrop {
  /* additional gutter margin offset */
  margin-left: calc(28px - 3px);
  margin-bottom: calc(28px - 3px);
}

.tenuki-board .lines {
  position: absolute;
  top: 0;
  left: 0;
  /* base margin */
  margin: calc(28px - 10px);
}

.tenuki-board[data-include-coordinates=true] .lines {
  /* base margin + additional gutter margin */
  margin: calc((28px - 10px) + (28px - 3px));
}

.tenuki-board .line {
  background: rgb(135, 113, 63);
  float: left;
  position: relative;
}

.tenuki-board .line.horizontal {
  height: 1px;
  width: 100%;
  /* intersection gap size */
  margin-bottom: 28px;
  clear: left;
}

.tenuki-board .line.vertical {
  width: 1px;
  height: 100%;
  /* intersection gap size */
  margin-right: 28px;
}

.tenuki-board .line.vertical:last-child {
  margin-right: -1px;
}

.tenuki-board[data-include-coordinates=true] .line.vertical:before,
.tenuki-board[data-include-coordinates=true] .line.vertical:after,
.tenuki-board[data-include-coordinates=true] .line.horizontal:before,
.tenuki-board[data-include-coordinates=true] .line.horizontal:after {
  /* gutter margin, less 5px */
  width: calc((28px - 3px) - 5px);
  /* gutter margin, less 5px */
  height: calc((28px - 3px) - 5px);
  text-align: center;
  /* gutter margin, less 5px */
  line-height: calc((28px - 3px) - 5px);
  font-family: sans-serif;
  color: rgb(135, 113, 63);
  display: block;
  font-size: 14px;
}

.tenuki-board[data-include-coordinates=true] .line.vertical:before,
.tenuki-board[data-include-coordinates=true] .line.vertical:after {
  content: attr(data-top-gutter);
}

.tenuki-board[data-include-coordinates=true] .line.horizontal:before,
.tenuki-board[data-include-coordinates=true] .line.horizontal:after {
  content: attr(data-left-gutter);
}

.tenuki-board[data-include-coordinates=true] .line.vertical:before {
  /* -1*width/2 */
  margin-left: calc(-1*((28px - 3px) - 5px)/2);
  /* -1*width/2, less the intersection gap size */
  margin-top: calc(-1*((28px - 3px) - 5px)/2 - 28px);
}

.tenuki-board[data-include-coordinates=true] .line.vertical:after {
  position: absolute;
  bottom: 0;
  left: 0;
  /* -1*width/2 */
  margin-left: calc(-1*((28px - 3px) - 5px)/2);
  /* -1*width/2, less the intersection gap size */
  margin-bottom: calc(-1*((28px - 3px) - 5px)/2 - 28px);
}

.tenuki-board[data-include-coordinates=true] .line.horizontal:before {
  /* -1*width/2, less the intersection gap size */
  margin-left: calc(-1*((28px - 3px) - 5px)/2 - 28px);
  /* -1*width/2 */
  margin-top: calc(-1*((28px - 3px) - 5px)/2);
}

.tenuki-board[data-include-coordinates=true] .line.horizontal:after {
  position: absolute;
  top: 0;
  right: 0;
  /* -1*width/2, less the intersection gap size */
  margin-right: calc(-1*((28px - 3px) - 5px)/2 - 28px);
  /* -1*width/2 */
  margin-top: calc(-1*((28px - 3px) - 5px)/2);
}

.tenuki-board .hoshi {
  width: calc(2 * 2px + 1px);
  height: calc(2 * 2px + 1px);
  border-radius: 50%;
  background: rgb(135, 113, 63);
  position: absolute;
}

.tenuki-board .intersections {
  position: absolute;
  /* base margin, less half the intersection gap size */
  top: calc((28px - 10px) - 28px/2);
  /* base margin, less half the intersection gap size */
  left: calc((28px - 10px) - 28px/2);
}

.tenuki-board[data-include-coordinates=true] .intersections {
  /* additional gutter margin */
  margin-top: calc(28px - 3px);
  /* additional gutter margin */
  margin-left: calc(28px - 3px);
}

.tenuki-board .intersection {
  width: calc(28px + 1px);
  height: calc(28px + 1px);
}

.tenuki-board .intersection,
.tenuki-board .intersection .stone {
  position: absolute;
}

.tenuki-board .occupied .stone,
.tenuki-board .empty.hovered .stone {
  content: "";
  display: block;
  border-radius: 50%;
  border: 1px solid black;
  width: calc(100% - 2px);
  height: calc(100% - 2px);
}

.tenuki-board .intersection.occupied.marker .stone:after {
  content: "";
  display: block;
  width: calc(5px);
  height: calc(5px);
  border-radius: 50%;
  border: 2px solid;
  position: absolute;
  /*
   * 100% of the stone width + 2px for its border is an odd number of pixels,
   * so we go to (n+1)/2 which brings us 1 pixel to the right of, and 1 pixel
   * below the intersection we want.
   */
  left: calc((100% + 2px + 1px)/2);
  top: calc((100% + 2px + 1px)/2);
  /* now correct by the 1px, plus the width of the marker */
  margin-left: calc(-1px - 5px);
  margin-top: calc(-1px - 5px);
}

.tenuki-board .intersection.white.occupied.marker .stone:after {
  color: black;
  background: black;
}

.tenuki-board .intersection.black.occupied.marker .stone:after {
  color: white;
  background: white;
}

.tenuki-board .occupied.white .stone,
.tenuki-board .empty.hovered.white .stone {
  background: white;
  border-color: #676767;
}

.tenuki-board .empty.hovered.white .stone {
  border-color: black;
}

.tenuki-board .occupied.black .stone,
.tenuki-board .empty.hovered.black .stone {
  background: black;
}

.tenuki-board .intersection.empty.hovered .stone {
  opacity: 0.5;
}

.tenuki-board .intersection.ko .stone {
  background: none !important;
  width: 11px !important;
  height: 11px !important;
  border: 1px solid black !important;
  border-radius: 0 !important;
  left: 50% !important;
  top: 50% !important;
  opacity: 1.0 !important;
  position: absolute;
  margin-top: calc(-1px - 6px);
  margin-left: calc(-1px - 6px);
}

.tenuki-board .intersection.occupied.black.dead .stone,
.tenuki-board .intersection.occupied.black.white .stone {
  border-color: rgba(0, 0, 0, 0.5);
}

.tenuki-board .intersection.occupied.black.dead .stone {
  background: rgba(0, 0, 0, 0.5);
}

.tenuki-board .intersection.occupied.white.dead .stone {
  background: rgba(255, 255, 255, 0.5);
}

.tenuki-board .intersection.territory-black:after,
.tenuki-board .intersection.territory-white:after {
  content: "";
  display: block;
  width: calc(25% + 4px);
  height: calc(25% + 4px);
  position: absolute;
  left: 50%;
  top: 50%;
  margin-left: calc((-25% - 4px)/2);
  margin-top: calc((-25% - 4px)/2);
}

.tenuki-board .intersection.territory-black:after {
  background: black;
}

.tenuki-board .intersection.territory-white:after {
  background: white;
}

.tenuki-board-textured .occupied .stone {
  box-shadow: 0px 2px 1px rgba(62, 62, 62, 0.38);
}

.tenuki-board-textured .occupied.black .stone,
.tenuki-board-textured .empty.hovered.black .stone {
  border-color: #565656;
  background: radial-gradient(circle at 50% 120%, #000000, #484848 10%, #101010 80%, #585858 100%)
}

.tenuki-board-textured .occupied.white .stone,
.tenuki-board-textured .empty.hovered.white .stone {
  border-color: #DEDEDE;
  background: radial-gradient(circle at 50% 120%, #ECEAEA, #D6D6D6 10%, #EAEAEA 80%, #FFFFFF 100%);
}

.tenuki-board-textured .occupied .stone:before {
  content: "";
  position: absolute;
  top: 1%;
  left: 5%;
  width: 90%;
  height: 90%;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 0px, #848484, rgba(86, 86, 86, 0) 58%);
  z-index: 2;
}

.tenuki-board-textured .occupied.white .stone:before {
  background: radial-gradient(circle at 50% 0px, #FFFFFF, rgba(255, 255, 255, 0) 58%);
}
